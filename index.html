<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Ecossistema</title>
    <!-- Link para a biblioteca de gráficos Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Link para o seu arquivo de estilos CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Seus estilos CSS podem ir aqui também, se preferir -->
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
            overflow: hidden; /* Evita barras de rolagem desnecessárias */
        }
        .hidden { display: none !important; }

        .menu-container, .game-container {
            text-align: center;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .game-container {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100vh;
            box-sizing: border-box;
        }
        
        /* Ajustes para quando o jogo estiver em tela cheia */
        .game-container:fullscreen {
            padding: 10px;
            background-color: #111;
        }

        #game-area {
            display: flex;
            gap: 10px;
            width: 100%;
            height: calc(100% - 100px); /* Ajusta altura para caber os controles */
        }

        #world {
            position: relative;
            width: 800px;
            height: 600px;
            border: 2px solid #333;
            background-color: #a0d4a0; /* Verde claro padrão */
            overflow: hidden;
            margin: auto;
        }
        
        .entity {
            position: absolute;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        /* --- Estilos dos animais --- */
        .animal { width: 30px; height: 30px; z-index: 10; border-radius: 50%; }
        .rato { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23666"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 6h2v6h-2zm0 8h2v2h-2z"/></svg>');}
        .coelho { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23d4a373"><path d="M12 2c-.9 0-1.7.3-2.4.8C8.9 2.3 8 2 7 2c-1.7 0-3 1.3-3 3 0 .8.3 1.5.8 2.1C4.3 8.3 4 9.1 4 10c0 1.7 1.3 3 3 3 .8 0 1.5-.3 2.1-.8.6.5 1.3.8 2.1.8s1.5-.3 2.1-.8c.6.5 1.3.8 2.1.8 1.7 0 3-1.3 3-3 0-.9-.3-1.7-.8-2.4.5-.6.8-1.4.8-2.2 0-1.7-1.3-3-3-3-.9 0-1.7.3-2.4.8-.7-.5-1.5-.8-2.4-.8zm-5 4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm10 0c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"/></svg>');}
        .filhote { transform: scale(0.6); }

        /* Estilo para coloração de tribo */
        .animal.tribal-view::after {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background-color: var(--tribe-color-overlay);
            mix-blend-mode: hard-light; opacity: 0.6;
            pointer-events: none; border-radius: inherit; transition: opacity 0.5s ease-in-out;
        }

        /* --- Outras Entidades --- */
        .comida { width: 20px; height: 20px; border-radius: 50%; z-index: 1;}
        .racao { background-color: #saddlebrown; }
        .grama { background-color: #3e8e41; }
        .agua { width: 40px; height: 40px; background-color: #89cff0; border-radius: 50%; z-index: 1;}
        .pedra { width: 70px; height: 70px; background-color: #888; border: 3px solid #555; border-radius: 15px; z-index: 5;}
        .carcaca { width: 30px; height: 30px; background-color: #5d4037; border-radius: 50%; }
        
        /* Animações e Partículas */
        .atingido { animation: tremer-rapido 0.2s ease-in-out; }
        @keyframes tremer-rapido { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-4px); } 75% { transform: translateX(4px); } }
        
        .particula-combate { position: absolute; width: 6px; height: 6px; background-color: red; border-radius: 50%; z-index: 100; pointer-events: none; animation: particula-explosao 0.5s forwards; }
        @keyframes particula-explosao { from { transform: scale(1); opacity: 1; } to { transform: scale(0) translate(var(--x), var(--y)); opacity: 0; } }

        /* ... outros estilos ... */
    </style>
</head>
<body>

    <!-- Container do Menu Principal -->
    <div id="main-menu-container" class="menu-container">
        <h1>Simulador de Ecossistema</h1>
        <button id="btn-nova-simulacao" class="btn">Nova Simulação</button>
        <!-- BOTÃO DE TELA CHEIA ADICIONADO AQUI -->
        <button id="btn-fullscreen" class="btn">Tela Cheia</button>
    </div>

    <!-- Container da Tela de Configuração -->
    <div id="setup-container" class="menu-container hidden">
        <h2>Configurar Simulação</h2>
        <div id="animal-selection"></div>
        <div>
            <label for="numComida">Comida inicial:</label>
            <input type="number" id="numComida" value="10" min="0" max="50">
        </div>
        <div>
            <label for="numAgua">Fontes de água:</label>
            <input type="number" id="numAgua" value="3" min="0" max="10">
        </div>
        <div>
            <label for="scenario">Cenário:</label>
            <select id="scenario">
                <option value="gramado">Gramado</option>
                <option value="floresta">Floresta</option>
                <option value="deserto">Deserto</option>
            </select>
        </div>
        <br>
        <button id="iniciarSimulacao" class="btn">Iniciar!</button>
        <button id="btn-voltar-menu" class="btn">Voltar ao Menu</button>
    </div>

    <!-- Container Principal do Jogo -->
    <div id="game-container" class="game-container hidden">
        <div id="top-bar">
            <!-- Controles e informações -->
        </div>
        <div id="game-area">
            <div id="world">
                <div id="world-overlay"></div>
                <div id="particle-container"></div>
            </div>
            <div id="sidebar">
                <h3>Controles</h3>
                <button id="btn-add-comida">Add Comida</button>
                <button id="btn-add-rato">Add Rato</button>
                <button id="btn-add-coelho">Add Coelho</button>
                <button id="btn-colocar-pedra">Colocar Pedra</button>
                <button id="btn-modo-territorio">Ver Tribos</button>
                <hr>
                <h4>Velocidade</h4>
                <button class="btn-time" data-speed="0">Pausar</button>
                <button class="btn-time active" data-speed="1">1x</button>
                <button class="btn-time" data-speed="2">2x</button>
                <button class="btn-time" data-speed="5">5x</button>
                <hr>
                <button id="resetarSimulacao" class="btn">Resetar e Voltar ao Menu</button>
            </div>
            <div id="stats-panel">
                 <h3>Estatísticas</h3>
                <p>Tempo: <span id="tempo">0</span>s</p>
                <p>População Total: <span id="populacaoTotal">0</span></p>
                <div id="animal-counts"></div>
                <div style="width: 300px; height: 200px; position: relative;">
                    <canvas id="populationChart"></canvas>
                </div>
                 <h3>Log de Eventos</h3>
                <div id="log-container"></div>
            </div>
        </div>
    </div>

    <!-- Link para o seu arquivo JavaScript (deve vir no final do body) -->
    <script src="script.js"></script>

</body>
</html>
